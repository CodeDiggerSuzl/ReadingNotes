# Go 语言的好处

互联网时代的语言需要考虑的问题:

- 对并行 (多核化) 和分布式 (集群化) 的支持
- 对逐步扩大的软件工程规模的支持.
- 编程哲学的重新塑造, 什么样的才是最佳的编程实践 ?

## 1.并发和分布式

### 1.1 并发执行体
这是抽象的概念, 在操作系统中有进程, 线程, 进程中的协程与之对应.

多数语言仅仅通过外部库的形式来支持协程, 但是不完善.

go 在语言级别使用 goroutine 来支持协程

### 1.2 执行体之间的通信

#### 执行体之间的互斥和同步

- 执行体之间存在共享资源的时候 (一般为内存), 为了保证 ram 在逻辑上访问的正确性, 需要对访问该共享资源的执行体进行互斥操作.
- 当多个执行体之间的逻辑存在时序上 ** 依赖 **, 也需要在执行体之间进行同步.

互斥和同步是最基础的交互方式.

#### 执行体之间的消息传递

并发编程领域分为两个流派:
1. 共享内存模型
2. 消息传递模型

go 保存了第一种, 但是内置 channel 来实现第二种.

## 2.软件工程
软件规模变大后, 在团队协作中, 人们需要建立统一的交互语言来降低沟通的成本. 包含下面几项:
1. 代码风格规范
2. 错误处理规范
3. 包管理
4. 契约 (接口) 规范
5. 单元测试规范
6. 功能开发流程规范

- 代码风格上

    go 将代码进风格进行了 ** 强制规定 **, 减少了 "大括号应该另起一行还是在行尾" 这种无意义问题的争论上
- 在错误处理上

    go 首创了 `defer` 和 函数多返回之中的 `err` 来进行错误处理.

## 3. 编程哲学上
计算机软件有多重学术流派: 面向过程, 面向对象, 函数式... 等.

C 面向过程, java 是面向对象的激进派 (典型体现: 不能容忍体系中包含孤立的函数)

### 3.1 反对重载 (overload)
go 反对函数和 操作符 重载,重载虽然解决了少数面向对象的问题,但是给语言带来负担很大.

| 支持 | 类   | 类成员方法 | 类的组合   |                       |                         |
| ---- | ---- | ---------- | ---------- | --------------------- | ----------------------- |
| 反对 | 继承 | 虚函数     | 虚函数重载 | 构造函数(constructor) | 析构函数(deconstructor) |


> 如果一个特性并不对解决任何问题有显著价值,那么 go 就不提供它.

### 3.2 ✨ interface

最大优点: 非侵入式.

```go
var foo IFoo = new(Foo)
```

在 go 中,✨只要`Foo`实现了`IFoo`的所要求的全部接口,就实现了该接口,就可以进行复制.

巨大影响:
1. go 标准库不再需要绘制类库的继承树图. 只需要知道这个类实现了哪些方法,每个方法的含义就行了
2. 无需纠结接口拆分的粒度
3. 不用为了实现一个接口而专门引入一个包


> 虚函数











